<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 360" width="700" height="360">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1e293b;stop-opacity:1"/>
      <stop offset="100%" style="stop-color:#0f172a;stop-opacity:1"/>
    </linearGradient>
    <linearGradient id="greenGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#16a34a;stop-opacity:1"/>
      <stop offset="100%" style="stop-color:#15803d;stop-opacity:1"/>
    </linearGradient>
    <linearGradient id="amberGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#d97706;stop-opacity:1"/>
      <stop offset="100%" style="stop-color:#b45309;stop-opacity:1"/>
    </linearGradient>
    <linearGradient id="blueGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#2563eb;stop-opacity:1"/>
      <stop offset="100%" style="stop-color:#1d4ed8;stop-opacity:1"/>
    </linearGradient>
    <filter id="shadow" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000000" flood-opacity="0.4"/>
    </filter>
    <marker id="arrowBlue" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#3b82f6"/>
    </marker>
    <marker id="arrowAmber" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#f59e0b"/>
    </marker>
    <marker id="arrowBlueR" markerWidth="8" markerHeight="6" refX="1" refY="3" orient="auto">
      <polygon points="8 0, 0 3, 8 6" fill="#3b82f6"/>
    </marker>
    <symbol id="icon-heartbeat" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
    </symbol>
    <symbol id="icon-server" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <rect x="2" y="2" width="20" height="8" rx="2"/>
      <rect x="2" y="14" width="20" height="8" rx="2"/>
      <circle cx="6" cy="6" r="1" fill="currentColor" stroke="none"/>
      <circle cx="6" cy="18" r="1" fill="currentColor" stroke="none"/>
      <line x1="10" y1="6" x2="16" y2="6"/>
      <line x1="10" y1="18" x2="16" y2="18"/>
    </symbol>
  </defs>

  <!-- Background -->
  <rect width="700" height="360" fill="url(#bgGrad)" rx="12"/>

  <!-- Title -->
  <text x="350" y="28" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="14" font-weight="600" fill="#e2e8f0" text-anchor="middle">High-Availability Pairs — VRRP Failover</text>

  <!-- ═══════════════ DNS HA PAIR ═══════════════ -->
  <rect x="16" y="44" width="668" height="84" rx="8" fill="#1e293b" stroke="#22c55e" stroke-width="1.2" stroke-opacity="0.5" filter="url(#shadow)"/>
  <use href="#icon-heartbeat" x="18" y="47" width="14" height="14" color="#22c55e"/>
  <text x="36" y="60" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="10" font-weight="600" fill="#22c55e" opacity="0.9">DNS HA</text>

  <!-- DNS Primary -->
  <rect x="28" y="66" width="154" height="52" rx="6" fill="url(#greenGrad)" filter="url(#shadow)"/>
  <use href="#icon-server" x="32" y="68" width="14" height="14" color="#bbf7d0"/>
  <text x="113" y="84" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="11" font-weight="600" fill="#bbf7d0" text-anchor="middle">DNS-Primary</text>
  <text x="113" y="98" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="9" fill="#86efac" text-anchor="middle">Node 3 · LXC 10111</text>
  <text x="113" y="110" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="8" fill="#86efac" text-anchor="middle">ACTIVE</text>

  <!-- VRRP arrows DNS left -->
  <line x1="182" y1="92" x2="234" y2="92" stroke="#3b82f6" stroke-width="1.5" marker-end="url(#arrowBlue)" marker-start="url(#arrowBlueR)"/>
  <text x="208" y="87" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="8" fill="#93c5fd" text-anchor="middle">VRRP</text>

  <!-- VIP Circle DNS -->
  <circle cx="282" cy="92" r="28" fill="url(#blueGrad)" filter="url(#shadow)"/>
  <text x="282" y="88" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="10" font-weight="700" fill="#bfdbfe" text-anchor="middle">VIP</text>
  <text x="282" y="101" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="8" fill="#bfdbfe" text-anchor="middle">.110</text>

  <!-- VRRP arrows DNS right -->
  <line x1="310" y1="92" x2="362" y2="92" stroke="#3b82f6" stroke-width="1.5" marker-end="url(#arrowBlue)" marker-start="url(#arrowBlueR)"/>
  <text x="336" y="87" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="8" fill="#93c5fd" text-anchor="middle">VRRP</text>

  <!-- DNS Secondary -->
  <rect x="364" y="66" width="154" height="52" rx="6" fill="url(#amberGrad)" filter="url(#shadow)"/>
  <use href="#icon-server" x="368" y="68" width="14" height="14" color="#fde68a"/>
  <text x="449" y="84" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="11" font-weight="600" fill="#fde68a" text-anchor="middle">DNS-Secondary</text>
  <text x="449" y="98" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="9" fill="#fcd34d" text-anchor="middle">Node 5 · LXC 10112</text>
  <text x="449" y="110" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="8" fill="#fcd34d" text-anchor="middle">STANDBY</text>

  <!-- ═══════════════ CADDY HA PAIR ═══════════════ -->
  <rect x="16" y="142" width="668" height="84" rx="8" fill="#1e293b" stroke="#3b82f6" stroke-width="1.2" stroke-opacity="0.5" filter="url(#shadow)"/>
  <use href="#icon-heartbeat" x="18" y="145" width="14" height="14" color="#3b82f6"/>
  <text x="36" y="158" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="10" font-weight="600" fill="#3b82f6" opacity="0.9">Caddy HA</text>

  <!-- Caddy 1 -->
  <rect x="28" y="164" width="154" height="52" rx="6" fill="url(#greenGrad)" filter="url(#shadow)"/>
  <use href="#icon-server" x="32" y="166" width="14" height="14" color="#bbf7d0"/>
  <text x="113" y="182" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="11" font-weight="600" fill="#bbf7d0" text-anchor="middle">Caddy-1</text>
  <text x="113" y="196" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="9" fill="#86efac" text-anchor="middle">Node 6 · LXC 30160</text>
  <text x="113" y="208" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="8" fill="#86efac" text-anchor="middle">ACTIVE</text>

  <!-- VRRP arrows Caddy left -->
  <line x1="182" y1="190" x2="234" y2="190" stroke="#3b82f6" stroke-width="1.5" marker-end="url(#arrowBlue)" marker-start="url(#arrowBlueR)"/>
  <text x="208" y="185" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="8" fill="#93c5fd" text-anchor="middle">VRRP</text>

  <!-- VIP Circle Caddy -->
  <circle cx="282" cy="190" r="28" fill="url(#blueGrad)" filter="url(#shadow)"/>
  <text x="282" y="186" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="10" font-weight="700" fill="#bfdbfe" text-anchor="middle">VIP</text>
  <text x="282" y="199" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="8" fill="#bfdbfe" text-anchor="middle">.161</text>

  <!-- VRRP arrows Caddy right -->
  <line x1="310" y1="190" x2="362" y2="190" stroke="#3b82f6" stroke-width="1.5" marker-end="url(#arrowBlue)" marker-start="url(#arrowBlueR)"/>
  <text x="336" y="185" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="8" fill="#93c5fd" text-anchor="middle">VRRP</text>

  <!-- Caddy 2 -->
  <rect x="364" y="164" width="154" height="52" rx="6" fill="url(#amberGrad)" filter="url(#shadow)"/>
  <use href="#icon-server" x="368" y="166" width="14" height="14" color="#fde68a"/>
  <text x="449" y="182" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="11" font-weight="600" fill="#fde68a" text-anchor="middle">Caddy-2</text>
  <text x="449" y="196" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="9" fill="#fcd34d" text-anchor="middle">Node 5 · LXC 30162</text>
  <text x="449" y="208" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="8" fill="#fcd34d" text-anchor="middle">STANDBY</text>

  <!-- Mount certs dashed arrow (Caddy → NFS) -->
  <line x1="282" y1="226" x2="282" y2="246" stroke="#a855f7" stroke-width="1.2" stroke-dasharray="4,3" marker-end="url(#arrowBlue)"/>
  <rect x="293" y="228" width="74" height="14" rx="3" fill="#1e293b"/>
  <text x="330" y="238" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="8" fill="#c084fc" text-anchor="middle">Mount certs</text>

  <!-- ═══════════════ NFS HA PAIR ═══════════════ -->
  <rect x="16" y="248" width="668" height="84" rx="8" fill="#1e293b" stroke="#a855f7" stroke-width="1.2" stroke-opacity="0.5" filter="url(#shadow)"/>
  <use href="#icon-heartbeat" x="18" y="251" width="14" height="14" color="#a855f7"/>
  <text x="36" y="264" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="10" font-weight="600" fill="#a855f7" opacity="0.9">NFS HA</text>

  <!-- NFS 1 -->
  <rect x="28" y="270" width="154" height="52" rx="6" fill="url(#greenGrad)" filter="url(#shadow)"/>
  <use href="#icon-server" x="32" y="272" width="14" height="14" color="#bbf7d0"/>
  <text x="113" y="288" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="11" font-weight="600" fill="#bbf7d0" text-anchor="middle">NFS-1</text>
  <text x="113" y="302" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="9" fill="#86efac" text-anchor="middle">Node 6 · LXC 30164</text>
  <text x="113" y="314" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="8" fill="#86efac" text-anchor="middle">ACTIVE</text>

  <!-- VRRP arrows NFS left -->
  <line x1="182" y1="296" x2="234" y2="296" stroke="#3b82f6" stroke-width="1.5" marker-end="url(#arrowBlue)" marker-start="url(#arrowBlueR)"/>
  <text x="208" y="289" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="8" fill="#93c5fd" text-anchor="middle">VRRP</text>
  <text x="208" y="299" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="7" fill="#64748b" text-anchor="middle">+rsync</text>

  <!-- VIP Circle NFS -->
  <circle cx="282" cy="296" r="28" fill="url(#blueGrad)" filter="url(#shadow)"/>
  <text x="282" y="292" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="10" font-weight="700" fill="#bfdbfe" text-anchor="middle">VIP</text>
  <text x="282" y="305" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="8" fill="#bfdbfe" text-anchor="middle">.165</text>

  <!-- rsync arrows NFS right -->
  <line x1="310" y1="296" x2="362" y2="296" stroke="#3b82f6" stroke-width="1.5" marker-end="url(#arrowBlue)" marker-start="url(#arrowBlueR)"/>
  <text x="336" y="289" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="8" fill="#93c5fd" text-anchor="middle">VRRP</text>
  <text x="336" y="299" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="7" fill="#64748b" text-anchor="middle">rsync</text>

  <!-- NFS 2 -->
  <rect x="364" y="270" width="154" height="52" rx="6" fill="url(#amberGrad)" filter="url(#shadow)"/>
  <use href="#icon-server" x="368" y="272" width="14" height="14" color="#fde68a"/>
  <text x="449" y="288" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="11" font-weight="600" fill="#fde68a" text-anchor="middle">NFS-2</text>
  <text x="449" y="302" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="9" fill="#fcd34d" text-anchor="middle">Node 5 · LXC 30166</text>
  <text x="449" y="314" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="8" fill="#fcd34d" text-anchor="middle">STANDBY</text>

  <!-- Legend -->
  <rect x="546" y="68" width="120" height="52" rx="6" fill="#0f172a" stroke="#334155" stroke-width="1"/>
  <rect x="554" y="76" width="10" height="10" rx="2" fill="#22c55e"/>
  <text x="569" y="85" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="8" fill="#94a3b8">Active / Primary</text>
  <rect x="554" y="92" width="10" height="10" rx="2" fill="#f59e0b"/>
  <text x="569" y="101" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="8" fill="#94a3b8">Standby / Secondary</text>
  <circle cx="559" cy="110" r="5" fill="#2563eb"/>
  <text x="569" y="113" font-family="'Segoe UI', system-ui, -apple-system, sans-serif" font-size="8" fill="#94a3b8">Virtual IP (VIP)</text>
</svg>
